(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{7850:function(e,t,s){Promise.resolve().then(s.bind(s,8810))},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1817:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9227:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},3276:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},9076:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},8810:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return B}});var n=s(7437),r=s(2265),a=s(9376),i=s(1817),c=s(2660),l=s(2381),o=s(9227),d=s(3276),u=s(9076),h=s(9205);let f=(0,h.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),m=(0,h.Z)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),x=(0,h.Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),p=(0,h.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var b=s(9397);let v=(0,h.Z)("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);var y=s(1397),g=s(6741),j=s(8575),w=s(3966),N=s(886),k=s(6718),z=s(420),S=s(2912),C="Switch",[M,Z]=(0,w.b)(C),[E,R]=M(C),F=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:a,checked:i,defaultChecked:c,required:l,disabled:o,value:d="on",onCheckedChange:u,form:h,...f}=e,[m,x]=r.useState(null),p=(0,j.e)(t,e=>x(e)),b=r.useRef(!1),v=!m||h||!!m.closest("form"),[y,w]=(0,N.T)({prop:i,defaultProp:null!=c&&c,onChange:u,caller:C});return(0,n.jsxs)(E,{scope:s,checked:y,disabled:o,children:[(0,n.jsx)(S.WV.button,{type:"button",role:"switch","aria-checked":y,"aria-required":l,"data-state":T(y),"data-disabled":o?"":void 0,disabled:o,value:d,...f,ref:p,onClick:(0,g.Mj)(e.onClick,e=>{w(e=>!e),v&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),v&&(0,n.jsx)(P,{control:m,bubbles:!b.current,name:a,value:d,checked:y,required:l,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});F.displayName=C;var _="SwitchThumb",H=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,a=R(_,s);return(0,n.jsx)(S.WV.span,{"data-state":T(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});H.displayName=_;var P=r.forwardRef((e,t)=>{let{__scopeSwitch:s,control:a,checked:i,bubbles:c=!0,...l}=e,o=r.useRef(null),d=(0,j.e)(o,t),u=(0,k.D)(i),h=(0,z.t)(a);return r.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==i&&t){let s=new Event("click",{bubbles:c});t.call(e,i),e.dispatchEvent(s)}},[u,i,c]),(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...l,tabIndex:-1,ref:d,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function T(e){return e?"checked":"unchecked"}P.displayName="SwitchBubbleInput";var q=s(3448);let A=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(F,{className:(0,q.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,n.jsx)(H,{className:(0,q.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});A.displayName=F.displayName;var L=s(5060);function V(e){let{script:t,title:s}=e,[a,i]=(0,r.useState)(!1),[c,h]=(0,r.useState)(!1),[g,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(0),[k,z]=(0,r.useState)(32),[S,C]=(0,r.useState)(50),[M,Z]=(0,r.useState)(!1),[E,R]=(0,r.useState)(1.8),F=(0,r.useRef)(null),_=(0,r.useRef)(null),H=(0,r.useRef)(null),P=(0,r.useRef)(0),T=(0,r.useCallback)(e=>{P.current||(P.current=e);let t=e-P.current;if(P.current=e,a&&_.current){let e=2*S*t/1e3;N(t=>Math.min(t+e,_.current.scrollHeight-window.innerHeight+200))}H.current=requestAnimationFrame(T)},[a,S]);(0,r.useEffect)(()=>(H.current=requestAnimationFrame(T),()=>{H.current&&cancelAnimationFrame(H.current)}),[T]),(0,r.useEffect)(()=>{_.current&&(_.current.style.transform="translateY(-".concat(w,"px)"))},[w]);let V=async()=>{F.current&&(document.fullscreenElement?(await document.exitFullscreen(),h(!1)):(await F.current.requestFullscreen(),h(!0)))};return(0,n.jsxs)("div",{ref:F,className:(0,q.cn)("relative bg-black text-white overflow-hidden",c?"fixed inset-0 z-50":"min-h-[80vh] rounded-lg"),children:[(0,n.jsx)("div",{className:(0,q.cn)("absolute inset-0 p-8 overflow-hidden cursor-pointer",M&&"teleprompter-mirror"),onClick:()=>{i(!a)},children:(0,n.jsxs)("div",{ref:_,className:"teleprompter-text transition-transform duration-100",style:{fontSize:"".concat(k,"px"),lineHeight:E},children:[s&&(0,n.jsx)("h1",{className:"font-bold mb-8 text-center",style:{fontSize:"".concat(1.5*k,"px")},children:s}),t.split("\n").map((e,t)=>(0,n.jsx)("p",{className:"mb-6",children:e},t)),(0,n.jsx)("div",{className:"h-[50vh]"})]})}),(0,n.jsx)("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-black to-transparent pointer-events-none"}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black to-transparent pointer-events-none"}),(0,n.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-red-500/30 pointer-events-none"}),(0,n.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.z,{variant:"secondary",size:"icon",onClick:()=>i(!a),className:"bg-white/10 hover:bg-white/20",children:a?(0,n.jsx)(o.Z,{className:"h-5 w-5"}):(0,n.jsx)(d.Z,{className:"h-5 w-5"})}),(0,n.jsx)(l.z,{variant:"secondary",size:"icon",onClick:()=>{N(0),i(!1),P.current=0},className:"bg-white/10 hover:bg-white/20",children:(0,n.jsx)(u.Z,{className:"h-5 w-5"})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.z,{variant:"secondary",size:"icon",onClick:()=>j(!g),className:"bg-white/10 hover:bg-white/20",children:(0,n.jsx)(f,{className:"h-5 w-5"})}),(0,n.jsx)(l.z,{variant:"secondary",size:"icon",onClick:V,className:"bg-white/10 hover:bg-white/20",children:c?(0,n.jsx)(m,{className:"h-5 w-5"}):(0,n.jsx)(x,{className:"h-5 w-5"})})]})]}),g&&(0,n.jsxs)("div",{className:"absolute top-4 right-4 bg-black/90 rounded-lg p-4 space-y-4 min-w-[250px]",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(L._,{className:"text-white text-sm",children:"Font Size"}),(0,n.jsxs)("span",{className:"text-white/60 text-sm",children:[k,"px"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.z,{variant:"secondary",size:"icon",className:"h-8 w-8 bg-white/10",onClick:()=>z(Math.max(16,k-4)),children:(0,n.jsx)(p,{className:"h-4 w-4"})}),(0,n.jsx)(y.i,{value:[k],onValueChange:e=>{let[t]=e;return z(t)},min:16,max:72,step:2,className:"flex-1"}),(0,n.jsx)(l.z,{variant:"secondary",size:"icon",className:"h-8 w-8 bg-white/10",onClick:()=>z(Math.min(72,k+4)),children:(0,n.jsx)(b.Z,{className:"h-4 w-4"})})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(L._,{className:"text-white text-sm",children:"Scroll Speed"}),(0,n.jsx)("span",{className:"text-white/60 text-sm",children:S})]}),(0,n.jsx)(y.i,{value:[S],onValueChange:e=>{let[t]=e;return C(t)},min:10,max:150,step:5})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(L._,{className:"text-white text-sm",children:"Line Height"}),(0,n.jsx)("span",{className:"text-white/60 text-sm",children:E.toFixed(1)})]}),(0,n.jsx)(y.i,{value:[10*E],onValueChange:e=>{let[t]=e;return R(t/10)},min:12,max:30,step:1})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(v,{className:"h-4 w-4 text-white"}),(0,n.jsx)(L._,{className:"text-white text-sm",children:"Mirror Mode"})]}),(0,n.jsx)(A,{checked:M,onCheckedChange:Z})]})]}),(0,n.jsx)("div",{className:"absolute top-4 left-4 text-white/40 text-sm",children:a?"Tap to pause":"Tap to start"})]})}function B(){var e;let t=(0,a.useParams)(),s=(0,a.useRouter)(),[o,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),[f,m]=(0,r.useState)(null);return((0,r.useEffect)(()=>{async function e(){try{let e=await fetch("/api/episodes/".concat(t.id));if(!e.ok)throw Error("Episode not found");let s=await e.json();d(s.episode)}catch(e){m(e instanceof Error?e.message:"Failed to load episode")}finally{h(!1)}}t.id&&e()},[t.id]),u)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,n.jsx)(i.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f||!o?(0,n.jsxs)("div",{className:"container max-w-2xl py-12 text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Episode Not Found"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-6",children:f||"Could not load episode"}),(0,n.jsxs)(l.z,{onClick:()=>s.push("/studio"),children:[(0,n.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Back to Studio"]})]}):(null===(e=o.script)||void 0===e?void 0:e.content)?(0,n.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,n.jsx)("div",{className:"absolute top-4 left-4 z-50",children:(0,n.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>s.push("/studio"),className:"text-white/60 hover:text-white hover:bg-white/10",children:[(0,n.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Exit"]})}),(0,n.jsx)(V,{script:o.script.content,title:o.title})]}):(0,n.jsxs)("div",{className:"container max-w-2xl py-12 text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"No Script Available"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-6",children:"This episode doesn't have a script yet. Create one first."}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,n.jsxs)(l.z,{variant:"outline",onClick:()=>s.push("/studio"),children:[(0,n.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Back to Studio"]}),(0,n.jsx)(l.z,{onClick:()=>s.push("/studio/new?edit=".concat(o.id)),children:"Create Script"})]})]})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var n=s(7437),r=s(2265),a=s(7495),i=s(535),c=s(3448);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 touch-manipulation tap-highlight-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:o=!1,...d}=e,u=o?a.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(l({variant:r,size:i,className:s})),ref:t,...d})});o.displayName="Button"},5060:function(e,t,s){"use strict";s.d(t,{_:function(){return o}});var n=s(7437),r=s(2265),a=s(370),i=s(535),c=s(3448);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,c.cn)(l(),s),...r})});o.displayName=a.f.displayName},1397:function(e,t,s){"use strict";s.d(t,{i:function(){return c}});var n=s(7437),r=s(2265),a=s(9754),i=s(3448);let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsxs)(a.fC,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",s),...r,children:[(0,n.jsx)(a.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,n.jsx)(a.e6,{className:"absolute h-full bg-primary"})}),(0,n.jsx)(a.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});c.displayName=a.fC.displayName},3448:function(e,t,s){"use strict";s.d(t,{LU:function(){return c},cn:function(){return a},p6:function(){return i}});var n=s(1994),r=s(3335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,n.W)(t))}function i(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e))}function c(e){let t=Math.floor(e/1e3),s=Math.floor(t/60),n=Math.floor(s/60);return n>0?"".concat(n,":").concat((s%60).toString().padStart(2,"0"),":").concat((t%60).toString().padStart(2,"0")):"".concat(s,":").concat((t%60).toString().padStart(2,"0"))}s(257)}},function(e){e.O(0,[550,899,52,971,117,744],function(){return e(e.s=7850)}),_N_E=e.O()}]);