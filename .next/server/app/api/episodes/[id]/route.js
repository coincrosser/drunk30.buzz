"use strict";(()=>{var e={};e.id=397,e.ids=[397],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6359:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>j,patchFetch:()=>w,requestAsyncStorage:()=>h,routeModule:()=>l,serverHooks:()=>b,staticGenerationAsyncStorage:()=>x});var r={};s.r(r),s.d(r,{DELETE:()=>c,GET:()=>u,PUT:()=>p});var o=s(3278),i=s(5002),n=s(4877),a=s(1309),d=s(1572);async function u(e,{params:t}){try{let{id:s}=await t,{searchParams:r}=new URL(e.url),o=r.get("include")?.split(",")||[],i={};o.includes("script")&&(i.script=!0),o.includes("outline")&&(i.outline=!0),o.includes("recordings")&&(i.recordings={orderBy:{createdAt:"desc"}}),o.includes("assets")&&(i.assets=!0),o.includes("jobs")&&(i.jobs={orderBy:{createdAt:"desc"}}),o.includes("youtubePack")&&(i.youtubePack=!0);let n=await d.db.episode.findUnique({where:{id:s},include:Object.keys(i).length>0?i:void 0});if(!n)return a.NextResponse.json({error:"Episode not found"},{status:404});return a.NextResponse.json({episode:n})}catch(e){return console.error("Failed to fetch episode:",e),a.NextResponse.json({error:"Failed to fetch episode"},{status:500})}}async function p(e,{params:t}){try{let{id:s}=await t,{title:r,description:o,status:i}=await e.json(),n=await d.db.episode.update({where:{id:s},data:{...r&&{title:r},...void 0!==o&&{description:o},...i&&{status:i}}});return a.NextResponse.json({episode:n})}catch(e){return console.error("Failed to update episode:",e),a.NextResponse.json({error:"Failed to update episode"},{status:500})}}async function c(e,{params:t}){try{let{id:e}=await t;return await d.db.episode.delete({where:{id:e}}),a.NextResponse.json({success:!0})}catch(e){return console.error("Failed to delete episode:",e),a.NextResponse.json({error:"Failed to delete episode"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/episodes/[id]/route",pathname:"/api/episodes/[id]",filename:"route",bundlePath:"app/api/episodes/[id]/route"},resolvedPagePath:"C:\\Users\\echob\\OneDrive\\Desktop\\podcast\\drunk30.buzz\\src\\app\\api\\episodes\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:h,staticGenerationAsyncStorage:x,serverHooks:b}=l,j="/api/episodes/[id]/route";function w(){return(0,n.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:x})}},1572:(e,t,s)=>{s.d(t,{db:()=>o});let r=require("@prisma/client"),o=globalThis.prisma??new r.PrismaClient({log:["error"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[787,833],()=>s(6359));module.exports=r})();