(()=>{var e={};e.id=978,e.ids=[978],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3813:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(5306),t(6788),t(996);var r=t(170),a=t(5002),i=t(3876),d=t.n(i),l=t(6299),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(s,n);let o=["",{children:["studio",{children:["process",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5306)),"C:\\Users\\echob\\OneDrive\\Desktop\\podcast\\drunk30.buzz\\src\\app\\studio\\process\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6788)),"C:\\Users\\echob\\OneDrive\\Desktop\\podcast\\drunk30.buzz\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\echob\\OneDrive\\Desktop\\podcast\\drunk30.buzz\\src\\app\\studio\\process\\[id]\\page.tsx"],u="/studio/process/[id]/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/studio/process/[id]/page",pathname:"/studio/process/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4164:(e,s,t)=>{Promise.resolve().then(t.bind(t,7214))},7940:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},4747:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7712:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},405:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},8749:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},721:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},8339:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7214:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var r=t(7247),a=t(8964),i=t(4178),d=t(6323);let l=(0,d.Z)("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);var n=t(405);let o=(0,d.Z)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]),c=(0,d.Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);var u=t(721),p=t(7712),h=t(8749),x=t(4747);let m=(0,d.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var j=t(8339),f=t(7940),y=t(7358),g=t(8852),N=t(5757),b=t(677),v=t(9835);let k={TRANSCODE:{label:"Transcode Video",icon:l},GENERATE_THUMBNAIL:{label:"Generate Thumbnail",icon:n.Z},EXTRACT_AUDIO:{label:"Extract Audio",icon:o},GENERATE_SHORTS:{label:"Generate Shorts",icon:c},PUBLISH_YOUTUBE:{label:"Publish to YouTube",icon:u.Z}};function E(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),{toast:t}=(0,v.pm)(),[d,E]=(0,a.useState)(null),[w,Z]=(0,a.useState)(!0),[C,R]=(0,a.useState)(null),[T,A]=(0,a.useState)(!1),P=(0,a.useCallback)(async()=>{try{let s=await fetch(`/api/episodes/${e.id}?include=recordings,assets,jobs`);if(!s.ok)throw Error("Episode not found");let t=await s.json();return E(t.episode),t.episode}catch(e){return R(e instanceof Error?e.message:"Failed to load episode"),null}finally{Z(!1)}},[e.id]),S=async e=>{if(d)try{let s=await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({episodeId:d.id,type:e})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to start job")}t({title:"Job Started",description:`${k[e].label} has been queued.`}),P()}catch(e){t({title:"Error",description:e instanceof Error?e.message:"Failed to start job",variant:"destructive"})}},O=async e=>{try{if(!(await fetch(`/api/jobs/${e}/retry`,{method:"POST"})).ok)throw Error("Failed to retry job");t({title:"Job Retried",description:"The job has been queued again."}),P()}catch(e){t({title:"Error",description:"Failed to retry job",variant:"destructive"})}},D=e=>d?.jobs.find(s=>s.type===e),_=(e,s)=>{let{label:t,icon:a}=k[s];if(!e)return(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-muted rounded-lg",children:r.jsx(a,{className:"h-5 w-5 text-muted-foreground"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:t}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Not started"})]})]}),(0,r.jsxs)(g.z,{size:"sm",onClick:()=>S(s),children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Start"]})]});let i={PENDING:r.jsx(p.Z,{className:"h-5 w-5 text-muted-foreground"}),RUNNING:r.jsx(h.Z,{className:"h-5 w-5 text-blue-500 animate-spin"}),COMPLETED:r.jsx(x.Z,{className:"h-5 w-5 text-green-500"}),FAILED:r.jsx(m,{className:"h-5 w-5 text-destructive"})};return(0,r.jsxs)("div",{className:(0,b.cn)("flex items-center justify-between p-4 border rounded-lg","RUNNING"===e.status&&"border-blue-500/50 bg-blue-500/5","COMPLETED"===e.status&&"border-green-500/50 bg-green-500/5","FAILED"===e.status&&"border-destructive/50 bg-destructive/5"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-muted rounded-lg",children:r.jsx(a,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:t}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["PENDING"===e.status&&"Queued...","RUNNING"===e.status&&`Processing${e.progress?` (${e.progress}%)`:"..."}`,"COMPLETED"===e.status&&"Completed","FAILED"===e.status&&(e.error||"Failed")]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[i[e.status],"FAILED"===e.status&&(0,r.jsxs)(g.z,{size:"sm",variant:"outline",onClick:()=>O(e.id),children:[r.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]})};if(w)return r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx(h.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(C||!d)return(0,r.jsxs)("div",{className:"container max-w-2xl py-12 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Episode Not Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:C||"Could not load episode"}),(0,r.jsxs)(g.z,{onClick:()=>s.push("/studio"),children:[r.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Back to Studio"]})]});let z=d.recordings.length>0,M=d.recordings[0];return(0,r.jsxs)("div",{className:"container max-w-4xl py-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(g.z,{variant:"ghost",onClick:()=>s.push("/studio"),children:[r.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Episode ",d.episodeNumber,": ",d.title]})]}),z?r.jsx(N.Zb,{children:(0,r.jsxs)(N.Ol,{children:[r.jsx(N.ll,{children:"Raw Recording"}),(0,r.jsxs)(N.SZ,{children:["Recorded ",(0,b.p6)(M.createdAt)," • Duration:"," ",(0,b.LU)(M.duration)]})]})}):(0,r.jsxs)(N.Zb,{children:[(0,r.jsxs)(N.Ol,{children:[r.jsx(N.ll,{children:"No Recording Yet"}),r.jsx(N.SZ,{children:"Record your episode first before processing."})]}),r.jsx(N.aY,{children:r.jsx(g.z,{onClick:()=>s.push(`/studio/record/${d.id}`),children:"Go to Recording"})})]}),z&&(0,r.jsxs)(N.Zb,{children:[(0,r.jsxs)(N.Ol,{children:[r.jsx(N.ll,{children:"Processing Jobs"}),r.jsx(N.SZ,{children:"Process your recording to prepare it for publishing."})]}),(0,r.jsxs)(N.aY,{className:"space-y-4",children:[_(D("TRANSCODE"),"TRANSCODE"),_(D("EXTRACT_AUDIO"),"EXTRACT_AUDIO"),_(D("GENERATE_THUMBNAIL"),"GENERATE_THUMBNAIL"),_(D("GENERATE_SHORTS"),"GENERATE_SHORTS")]})]}),d.assets.length>0&&(0,r.jsxs)(N.Zb,{children:[(0,r.jsxs)(N.Ol,{children:[r.jsx(N.ll,{children:"Generated Assets"}),r.jsx(N.SZ,{children:"Files created from processing your recording."})]}),r.jsx(N.aY,{children:r.jsx("div",{className:"space-y-2",children:d.assets.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["PROCESSED_VIDEO"===e.type&&r.jsx(l,{className:"h-5 w-5"}),"AUDIO"===e.type&&r.jsx(o,{className:"h-5 w-5"}),"THUMBNAIL"===e.type&&r.jsx(n.Z,{className:"h-5 w-5"}),"SHORT_CLIP"===e.type&&r.jsx(c,{className:"h-5 w-5"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:e.filename}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB",e.duration&&` • ${(0,b.LU)(e.duration)}`]})]})]}),e.url&&r.jsx(g.z,{size:"sm",variant:"outline",asChild:!0,children:r.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"View"})})]},e.id))})})]}),z&&r.jsx("div",{className:"flex justify-end",children:(0,r.jsxs)(g.z,{onClick:()=>s.push(`/studio/youtube-pack/${d.id}`),children:["Continue to YouTube Pack",r.jsx(y.Z,{className:"ml-2 h-4 w-4"})]})})]})}},5757:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>o,Zb:()=>d,aY:()=>c,ll:()=>n});var r=t(7247),a=t(8964),i=t(677);let d=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},5306:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(5347).createProxy)(String.raw`C:\Users\echob\OneDrive\Desktop\podcast\drunk30.buzz\src\app\studio\process\[id]\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[787,498,788],()=>t(3813));module.exports=r})();